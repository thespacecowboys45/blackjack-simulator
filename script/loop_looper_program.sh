#!/usr/bin/env bash
#
# @date October 23
# @author dxb The Space Cowboy
#
####
#
# DESCRIPTION:
# mit-license implied
#
# Feeds the main loop, cycling through strategies and betting strategies.
#
# Creates, in essence, enough data by running enouch cycles through the
# looper.#
# For us to evaluate over time and see differences.
#
# If any.
#
######
LOOPER_BIN="./script/loop_program.sh"

cd $(dirname $0)/..


echo "[" $(date) "] Executing: $0"
#print " Executing: "

SLEEPTIME=6

# all available strategies to test
STRATEGIES=()

# auto-generated single strategies
#
# deprecated
#
# STRATEGIES+=("almost_always_hit")
#STRATEGIES+=("bi_singlestrat_0")
#STRATEGIES+=("bi_singlestrat_1")
#STRATEGIES+=("bi_singlestrat_2")
#STRATEGIES+=("bi_singlestrat_3")
#STRATEGIES+=("bi_singlestrat_19044337011466598084822431930153890437606200350598799181000391436239284335758259504900")
#STRATEGIES+=("bi_singlestrat_28566505517199897127233647895230835656409300525898198771500587154358926503637389257350")
#STRATEGIES+=("bi_singlestrat_38088674022933196169644863860307780875212400701197598362000782872478568671516519009800")
#STRATEGIES+=("bi_singlestrat_47610842528666495212056079825384726094015500876496997952500978590598210839395648762250")
#STRATEGIES+=("bi_singlestrat_57133011034399794254467295790461671312818601051796397543001174308717853007274778514700")
#STRATEGIES+=("bi_singlestrat_66655179540133093296878511755538616531621701227095797133501370026837495175153908267150")
#STRATEGIES+=("bi_singlestrat_76177348045866392339289727720615561750424801402395196724001565744957137343033038019600")
#STRATEGIES+=("bi_singlestrat_9522168505733299042411215965076945218803100175299399590500195718119642167879129752450")


#
# Are we having fun yet?
# Nov '23
#
STRATEGIES+=("bi_singlestrat_0")
STRATEGIES+=("bi_singlestrat_000_1")
STRATEGIES+=("bi_singlestrat_001_3")
STRATEGIES+=("bi_singlestrat_002_9")
STRATEGIES+=("bi_singlestrat_003_27")
STRATEGIES+=("bi_singlestrat_004_81")
STRATEGIES+=("bi_singlestrat_005_243")
STRATEGIES+=("bi_singlestrat_006_729")
STRATEGIES+=("bi_singlestrat_007_2187")
STRATEGIES+=("bi_singlestrat_008_6561")
STRATEGIES+=("bi_singlestrat_009_19683")
STRATEGIES+=("bi_singlestrat_010_59049")
STRATEGIES+=("bi_singlestrat_011_177147")
STRATEGIES+=("bi_singlestrat_012_531441")
STRATEGIES+=("bi_singlestrat_013_1594323")
STRATEGIES+=("bi_singlestrat_014_4782969")
STRATEGIES+=("bi_singlestrat_015_14348907")
STRATEGIES+=("bi_singlestrat_016_43046721")
STRATEGIES+=("bi_singlestrat_017_129140163")
STRATEGIES+=("bi_singlestrat_018_387420489")
STRATEGIES+=("bi_singlestrat_019_1162261467")
STRATEGIES+=("bi_singlestrat_020_3486784401")
STRATEGIES+=("bi_singlestrat_021_10460353203")
STRATEGIES+=("bi_singlestrat_022_31381059609")
STRATEGIES+=("bi_singlestrat_023_94143178827")
STRATEGIES+=("bi_singlestrat_024_282429536481")
STRATEGIES+=("bi_singlestrat_025_847288609443")
STRATEGIES+=("bi_singlestrat_026_2541865828329")
STRATEGIES+=("bi_singlestrat_027_7625597484987")
STRATEGIES+=("bi_singlestrat_028_22876792454961")
STRATEGIES+=("bi_singlestrat_029_68630377364883")
STRATEGIES+=("bi_singlestrat_030_205891132094649")
STRATEGIES+=("bi_singlestrat_031_617673396283947")
STRATEGIES+=("bi_singlestrat_032_1853020188851841")
STRATEGIES+=("bi_singlestrat_033_5559060566555523")
STRATEGIES+=("bi_singlestrat_034_16677181699666569")
STRATEGIES+=("bi_singlestrat_035_50031545098999707")
STRATEGIES+=("bi_singlestrat_036_150094635296999121")
STRATEGIES+=("bi_singlestrat_037_450283905890997363")
STRATEGIES+=("bi_singlestrat_038_1350851717672992089")
STRATEGIES+=("bi_singlestrat_039_4052555153018976267")
STRATEGIES+=("bi_singlestrat_040_12157665459056928801")
STRATEGIES+=("bi_singlestrat_041_36472996377170786403")
STRATEGIES+=("bi_singlestrat_042_109418989131512359209")
STRATEGIES+=("bi_singlestrat_043_328256967394537077627")
STRATEGIES+=("bi_singlestrat_044_984770902183611232881")
STRATEGIES+=("bi_singlestrat_045_2954312706550833698643")
STRATEGIES+=("bi_singlestrat_046_8862938119652501095929")
STRATEGIES+=("bi_singlestrat_047_26588814358957503287787")
STRATEGIES+=("bi_singlestrat_048_79766443076872509863361")
STRATEGIES+=("bi_singlestrat_049_239299329230617529590083")
STRATEGIES+=("bi_singlestrat_050_717897987691852588770249")
STRATEGIES+=("bi_singlestrat_051_2153693963075557766310747")
STRATEGIES+=("bi_singlestrat_052_6461081889226673298932241")
STRATEGIES+=("bi_singlestrat_053_19383245667680019896796723")
STRATEGIES+=("bi_singlestrat_054_58149737003040059690390169")
STRATEGIES+=("bi_singlestrat_055_174449211009120179071170507")
STRATEGIES+=("bi_singlestrat_056_523347633027360537213511521")
STRATEGIES+=("bi_singlestrat_057_1570042899082081611640534563")
STRATEGIES+=("bi_singlestrat_058_4710128697246244834921603689")
STRATEGIES+=("bi_singlestrat_059_14130386091738734504764811067")
STRATEGIES+=("bi_singlestrat_060_42391158275216203514294433201")
STRATEGIES+=("bi_singlestrat_061_127173474825648610542883299603")
STRATEGIES+=("bi_singlestrat_062_381520424476945831628649898809")
STRATEGIES+=("bi_singlestrat_063_1144561273430837494885949696427")
STRATEGIES+=("bi_singlestrat_064_3433683820292512484657849089281")
STRATEGIES+=("bi_singlestrat_065_10301051460877537453973547267843")
STRATEGIES+=("bi_singlestrat_066_30903154382632612361920641803529")
STRATEGIES+=("bi_singlestrat_067_92709463147897837085761925410587")
STRATEGIES+=("bi_singlestrat_068_278128389443693511257285776231761")
STRATEGIES+=("bi_singlestrat_069_834385168331080533771857328695283")
STRATEGIES+=("bi_singlestrat_070_2503155504993241601315571986085849")
STRATEGIES+=("bi_singlestrat_071_7509466514979724803946715958257547")
STRATEGIES+=("bi_singlestrat_072_22528399544939174411840147874772641")
STRATEGIES+=("bi_singlestrat_073_67585198634817523235520443624317923")
STRATEGIES+=("bi_singlestrat_074_202755595904452569706561330872953769")
STRATEGIES+=("bi_singlestrat_075_608266787713357709119683992618861307")
STRATEGIES+=("bi_singlestrat_076_1824800363140073127359051977856583921")
STRATEGIES+=("bi_singlestrat_077_5474401089420219382077155933569751763")
STRATEGIES+=("bi_singlestrat_078_16423203268260658146231467800709255289")
STRATEGIES+=("bi_singlestrat_079_49269609804781974438694403402127765867")
STRATEGIES+=("bi_singlestrat_080_147808829414345923316083210206383297601")
STRATEGIES+=("bi_singlestrat_081_443426488243037769948249630619149892803")
STRATEGIES+=("bi_singlestrat_082_1330279464729113309844748891857449678409")
STRATEGIES+=("bi_singlestrat_083_3990838394187339929534246675572349035227")
STRATEGIES+=("bi_singlestrat_084_11972515182562019788602740026717047105681")
STRATEGIES+=("bi_singlestrat_085_35917545547686059365808220080151141317043")
STRATEGIES+=("bi_singlestrat_086_107752636643058178097424660240453423951129")
STRATEGIES+=("bi_singlestrat_087_323257909929174534292273980721360271853387")
STRATEGIES+=("bi_singlestrat_088_969773729787523602876821942164080815560161")
STRATEGIES+=("bi_singlestrat_089_2909321189362570808630465826492242446680483")
STRATEGIES+=("bi_singlestrat_090_8727963568087712425891397479476727340041449")
STRATEGIES+=("bi_singlestrat_091_26183890704263137277674192438430182020124347")
STRATEGIES+=("bi_singlestrat_092_78551672112789411833022577315290546060373041")
STRATEGIES+=("bi_singlestrat_093_235655016338368235499067731945871638181119123")
STRATEGIES+=("bi_singlestrat_094_706965049015104706497203195837614914543357369")
STRATEGIES+=("bi_singlestrat_095_2120895147045314119491609587512844743630072107")
STRATEGIES+=("bi_singlestrat_096_6362685441135942358474828762538534230890216321")
STRATEGIES+=("bi_singlestrat_097_19088056323407827075424486287615602692670648963")
STRATEGIES+=("bi_singlestrat_098_57264168970223481226273458862846808078011946889")
STRATEGIES+=("bi_singlestrat_099_171792506910670443678820376588540424234035840667")
STRATEGIES+=("bi_singlestrat_1")
STRATEGIES+=("bi_singlestrat_100_515377520732011331036461129765621272702107522001")
STRATEGIES+=("bi_singlestrat_101_1546132562196033993109383389296863818106322566003")
STRATEGIES+=("bi_singlestrat_102_4638397686588101979328150167890591454318967698009")
STRATEGIES+=("bi_singlestrat_103_13915193059764305937984450503671774362956903094027")
STRATEGIES+=("bi_singlestrat_104_41745579179292917813953351511015323088870709282081")
STRATEGIES+=("bi_singlestrat_105_125236737537878753441860054533045969266612127846243")
STRATEGIES+=("bi_singlestrat_106_375710212613636260325580163599137907799836383538729")
STRATEGIES+=("bi_singlestrat_107_1127130637840908780976740490797413723399509150616187")
STRATEGIES+=("bi_singlestrat_108_3381391913522726342930221472392241170198527451848561")
STRATEGIES+=("bi_singlestrat_109_10144175740568179028790664417176723510595582355545683")
STRATEGIES+=("bi_singlestrat_110_30432527221704537086371993251530170531786747066637049")
STRATEGIES+=("bi_singlestrat_111_91297581665113611259115979754590511595360241199911147")
STRATEGIES+=("bi_singlestrat_112_273892744995340833777347939263771534786080723599733441")
STRATEGIES+=("bi_singlestrat_113_821678234986022501332043817791314604358242170799200323")
STRATEGIES+=("bi_singlestrat_114_2465034704958067503996131453373943813074726512397600969")
STRATEGIES+=("bi_singlestrat_115_7395104114874202511988394360121831439224179537192802907")
STRATEGIES+=("bi_singlestrat_116_22185312344622607535965183080365494317672538611578408721")
STRATEGIES+=("bi_singlestrat_117_66555937033867822607895549241096482953017615834735226163")
STRATEGIES+=("bi_singlestrat_118_199667811101603467823686647723289448859052847504205678489")
STRATEGIES+=("bi_singlestrat_119_599003433304810403471059943169868346577158542512617035467")
STRATEGIES+=("bi_singlestrat_120_1797010299914431210413179829509605039731475627537851106401")
STRATEGIES+=("bi_singlestrat_121_5391030899743293631239539488528815119194426882613553319203")
STRATEGIES+=("bi_singlestrat_122_16173092699229880893718618465586445357583280647840659957609")
STRATEGIES+=("bi_singlestrat_123_48519278097689642681155855396759336072749841943521979872827")
STRATEGIES+=("bi_singlestrat_124_145557834293068928043467566190278008218249525830565939618481")
STRATEGIES+=("bi_singlestrat_125_436673502879206784130402698570834024654748577491697818855443")
STRATEGIES+=("bi_singlestrat_126_1310020508637620352391208095712502073964245732475093456566329")
STRATEGIES+=("bi_singlestrat_127_3930061525912861057173624287137506221892737197425280369698987")
STRATEGIES+=("bi_singlestrat_128_11790184577738583171520872861412518665678211592275841109096961")
STRATEGIES+=("bi_singlestrat_129_35370553733215749514562618584237555997034634776827523327290883")
STRATEGIES+=("bi_singlestrat_130_106111661199647248543687855752712667991103904330482569981872649")
STRATEGIES+=("bi_singlestrat_131_318334983598941745631063567258138003973311712991447709945617947")
STRATEGIES+=("bi_singlestrat_132_955004950796825236893190701774414011919935138974343129836853841")
STRATEGIES+=("bi_singlestrat_133_2865014852390475710679572105323242035759805416923029389510561523")
STRATEGIES+=("bi_singlestrat_134_8595044557171427132038716315969726107279416250769088168531684569")
STRATEGIES+=("bi_singlestrat_135_25785133671514281396116148947909178321838248752307264505595053707")
STRATEGIES+=("bi_singlestrat_136_77355401014542844188348446843727534965514746256921793516785161121")
STRATEGIES+=("bi_singlestrat_137_232066203043628532565045340531182604896544238770765380550355483363")
STRATEGIES+=("bi_singlestrat_138_696198609130885597695136021593547814689632716312296141651066450089")
STRATEGIES+=("bi_singlestrat_139_2088595827392656793085408064780643444068898148936888424953199350267")
STRATEGIES+=("bi_singlestrat_140_6265787482177970379256224194341930332206694446810665274859598050801")
STRATEGIES+=("bi_singlestrat_141_18797362446533911137768672583025790996620083340431995824578794152403")
STRATEGIES+=("bi_singlestrat_142_56392087339601733413306017749077372989860250021295987473736382457209")
STRATEGIES+=("bi_singlestrat_143_169176262018805200239918053247232118969580750063887962421209147371627")
STRATEGIES+=("bi_singlestrat_144_507528786056415600719754159741696356908742250191663887263627442114881")
STRATEGIES+=("bi_singlestrat_145_1522586358169246802159262479225089070726226750574991661790882326344643")
STRATEGIES+=("bi_singlestrat_146_4567759074507740406477787437675267212178680251724974985372646979033929")
STRATEGIES+=("bi_singlestrat_147_13703277223523221219433362313025801636536040755174924956117940937101787")
STRATEGIES+=("bi_singlestrat_148_41109831670569663658300086939077404909608122265524774868353822811305361")
STRATEGIES+=("bi_singlestrat_149_123329495011708990974900260817232214728824366796574324605061468433916083")
STRATEGIES+=("bi_singlestrat_150_369988485035126972924700782451696644186473100389722973815184405301748249")
STRATEGIES+=("bi_singlestrat_151_1109965455105380918774102347355089932559419301169168921445553215905244747")
STRATEGIES+=("bi_singlestrat_152_3329896365316142756322307042065269797678257903507506764336659647715734241")
STRATEGIES+=("bi_singlestrat_153_9989689095948428268966921126195809393034773710522520293009978943147202723")
STRATEGIES+=("bi_singlestrat_154_29969067287845284806900763378587428179104321131567560879029936829441608169")
STRATEGIES+=("bi_singlestrat_155_89907201863535854420702290135762284537312963394702682637089810488324824507")
STRATEGIES+=("bi_singlestrat_156_269721605590607563262106870407286853611938890184108047911269431464974473521")
STRATEGIES+=("bi_singlestrat_157_809164816771822689786320611221860560835816670552324143733808294394923420563")
STRATEGIES+=("bi_singlestrat_158_2427494450315468069358961833665581682507450011656972431201424883184770261689")
STRATEGIES+=("bi_singlestrat_159_7282483350946404208076885500996745047522350034970917293604274649554310785067")
STRATEGIES+=("bi_singlestrat_160_21847450052839212624230656502990235142567050104912751880812823948662932355201")
STRATEGIES+=("bi_singlestrat_161_65542350158517637872691969508970705427701150314738255642438471845988797065603")
STRATEGIES+=("bi_singlestrat_162_196627050475552913618075908526912116283103450944214766927315415537966391196809")
STRATEGIES+=("bi_singlestrat_163_589881151426658740854227725580736348849310352832644300781946246613899173590427")
STRATEGIES+=("bi_singlestrat_164_1769643454279976222562683176742209046547931058497932902345838739841697520771281")
STRATEGIES+=("bi_singlestrat_165_5308930362839928667688049530226627139643793175493798707037516219525092562313843")
STRATEGIES+=("bi_singlestrat_166_15926791088519786003064148590679881418931379526481396121112548658575277686941529")
STRATEGIES+=("bi_singlestrat_167_47780373265559358009192445772039644256794138579444188363337645975725833060824587")
STRATEGIES+=("bi_singlestrat_168_143341119796678074027577337316118932770382415738332565090012937927177499182473761")
STRATEGIES+=("bi_singlestrat_169_430023359390034222082732011948356798311147247214997695270038813781532497547421283")
STRATEGIES+=("bi_singlestrat_170_1290070078170102666248196035845070394933441741644993085810116441344597492642263849")
STRATEGIES+=("bi_singlestrat_171_3870210234510307998744588107535211184800325224934979257430349324033792477926791547")
STRATEGIES+=("bi_singlestrat_172_11610630703530923996233764322605633554400975674804937772291047972101377433780374641")
STRATEGIES+=("bi_singlestrat_173_34831892110592771988701292967816900663202927024414813316873143916304132301341123923")
STRATEGIES+=("bi_singlestrat_174_104495676331778315966103878903450701989608781073244439950619431748912396904023371769")
STRATEGIES+=("bi_singlestrat_175_313487028995334947898311636710352105968826343219733319851858295246737190712070115307")
STRATEGIES+=("bi_singlestrat_176_940461086986004843694934910131056317906479029659199959555574885740211572136210345921")
STRATEGIES+=("bi_singlestrat_177_2821383260958014531084804730393168953719437088977599878666724657220634716408631037763")
STRATEGIES+=("bi_singlestrat_178_8464149782874043593254414191179506861158311266932799636000173971661904149225893113289")
STRATEGIES+=("bi_singlestrat_179_25392449348622130779763242573538520583474933800798398908000521914985712447677679339867")
STRATEGIES+=("bi_singlestrat_2")
STRATEGIES+=("bi_singlestrat_3")
STRATEGIES+=("bi_singlestrat_76177348045866392339289727720615561750424801402395196724001565744957137343033038019601")








# stock strategies
#STRATEGIES+=("almost_always_hit")
#STRATEGIES+=("always_hit")
#STRATEGIES+=("advanced")
#STRATEGIES+=("aggressive")
#STRATEGIES+=("passive")
#STRATEGIES+=("wizard_simple")
#STRATEGIES+=("always_stand")
#STRATEGIES+=("no_bust")
#STRATEGIES+=("no_bust2")


#STRATEGIES+=("autostrat_100000")
#STRATEGIES+=("autostrat_200000")

######### RUN 1
#
#STRATEGIES+=("autostrat_1000000")
#STRATEGIES+=("autostrat_2000000")
#STRATEGIES+=("autostrat_3000000")
#STRATEGIES+=("autostrat_4000000")
#STRATEGIES+=("autostrat_5000000")
#STRATEGIES+=("autostrat_6000000")
#STRATEGIES+=("autostrat_7000000")
#STRATEGIES+=("autostrat_8000000")
#STRATEGIES+=("autostrat_9000000")




#STRATEGIES+=("autostrat_100000000")
#STRATEGIES+=("autostrat_200000000")
#STRATEGIES+=("autostrat_300000000")
#STRATEGIES+=("autostrat_400000000")
#STRATEGIES+=("autostrat_500000000")
#STRATEGIES+=("autostrat_600000000")
#STRATEGIES+=("autostrat_700000000")
#STRATEGIES+=("autostrat_800000000")
#STRATEGIES+=("autostrat_900000000")






# @TODO - loop through betting strategies
#BETTING_STRATEGIES=("bet_streaks" "bet_flat" "bet_break1" "bet_break2")
#BETTING_STRATEGIES=("bet_streaks" "bet_flat")
BETTING_STRATEGIES=("bet_flat")
for strategy in ${STRATEGIES[@]}
do
	echo "[" `date` "]Run strategy: ${strategy}"
	for betting_strategy in ${BETTING_STRATEGIES[@]}
	do
		echo "[" `date` "]Run strategy: ${strategy} agasint betting_strategy: ${betting_strategy}"
		./${LOOPER_BIN} ${strategy} ${betting_strategy}	
		echo "[" `date` "]Finished running strategy: ${strategy} agasint betting_strategy: ${betting_strategy}"
		
	done

	echo "[" `date` "]Finished running ${strategy}"
	sleep ${SLEEPTIME}
done	
	
	
print " END OF LINE: "